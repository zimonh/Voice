<!DOCTYPE html>
<html>
<head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">

<title>Voice</title>


<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
</head>

<body style="  text-align: center; color:gray; font-family: calibri;
font-weight: 100; background-color:black;" align="center">

<h2 style=" font-weight: 100;" class="hints"><span id="usechrome">Use Chrome! </br></br><img style='height:140px; width:auto;'  src='http://www.albinoblacksheep.com/download/64/chrome.svg'/> </span><span id="usechrome2">


Press Q to open mic:</br>play + artist</br> find + search term</br> set timer + number of minutes</br>movie facts + Film(star)</br>dumpert, calender, gmail, tv, a background-color</h2>
<div>
<h1 class="output"><em>...listing</em></h1>
</div>
</span>




<div id="clockdiv" style="display:none;">
<div style="display:none">
<span class="days"></span>
<div class="smalltext" >Days</div>
</div>
<div>
<span class="hours"></span>
<div class="smalltext" >Hours</div>
</div>
<div>
<span class="minutes"></span>
<div class="smalltext" >Minutes</div>
</div>
<div>
<span class="seconds"></span>
<div class="smalltext">Seconds</div>
</div>
</br>
<button id="buttonyy" style="display: none;">Stop alarm</button>


</div><style>


#buttonyy{
box-shadow: 0px 5px 0px rgba(75, 75, 75, 1);
    background-color: red;
    border: none;
    color: white;
    padding: 5px 20px 5px 20px;
    font-size: 27px;
    margin-top: 20px;
    margin-left: -6px;

}


#buttonyy:active{

box-shadow: 0px 0px 0px rgba(75, 75, 75, 1);
 margin-top: 25px;
}




html{background-color:black;}
.clockdiv{
	text-align: center;
	color: black;
	font-family: sans-serif;
	font-weight: 100;
}

h1{
	color: #4373d4;
	font-weight: 100;
	font-size: 40px;
	margin: 40px 0px 20px;
}

#clockdiv{
	font-family: sans-serif;
	color: #fff;
	display: inline-block;
	font-weight: 100;
	text-align: center;
	font-size: 30px;
}

#clockdiv > div{
	padding: 10px;
	border-radius: 3px;
	background: #232323;
	display: inline-block;
}

#clockdiv div > span{
padding: 15px;
border-radius: 3px;
background: #1f1f1f;
display: inline-block;
}

.smalltext{
padding-top: 5px;
font-size: 16px;
}</style> <script>



function getTimeRemaining(endtime) { 
var t = Date.parse(endtime) - Date.parse(new Date());
var seconds = Math.floor((t / 1000) % 60);
var minutes = Math.floor((t / 1000 / 60) % 60);
var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
var days = Math.floor(t / (1000 * 60 * 60 * 24));
return {
'total': t,
'days': days,
'hours': hours,
'minutes': minutes,
'seconds': seconds
};
}

function initializeClock(id, endtime) {



	var clock = document.getElementById(id);
	var daysSpan = clock.querySelector('.days');
	var hoursSpan = clock.querySelector('.hours');
	var minutesSpan = clock.querySelector('.minutes');
	var secondsSpan = clock.querySelector('.seconds');

	
	
	function updateClock() {


		var t = getTimeRemaining(endtime);

		daysSpan.innerHTML = t.days;
		hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
		minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
		secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

		
		if (t.total <= 0 ) {


$("#buttonyy").show();


			clearInterval(timeinterval);
			
			
			
			
			myAudio = new Audio('http://www.zimonh.at/bla/speech-color-changer/editco.wav');
			
			
			
			
			
			
			

			var cacacacacac = setInterval(function() {
			
			
			
				myAudio.play();
			
			
			
			}, 350);
			
			
			
			

			


			
			
			
			var buttonyy = document.getElementById("buttonyy");
		
		        buttonyy.onclick = function(){ 			
				clearInterval(cacacacacac);
$("#buttonyy").hide();

$("#clockdiv").hide();

			}

















		}





	}











	updateClock();

	var timeinterval = setInterval(updateClock, 1000);
}
</script>
<div id="d23dtt23t" style="display:none;" >

<form style=" width:407px; height:300px; margin-top:40px; margin-bottom:-140px; display:inline-block;" onsubmit="go_get(); return false;" >
<svg style="margin:1% 20% 1% 20%;"id="youtubeiconn" width="240px" height="240px"version="1.1" id="Layer_1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 473.931 473.931" style="enable-background:new 0 0 473.931 473.931;" xml:space="preserve">
<circle style="fill:#D42428;" cx="236.966" cy="236.966" r="236.966"/>
<path style="fill:#CC202D;" d="M404.518,69.38c92.541,92.549,92.549,242.593,0,335.142c-92.541,92.541-242.593,92.545-335.142,0  L404.518,69.38z"/>
<path style="fill:#BA202E;" d="M469.168,284.426L351.886,167.148l-138.322,15.749l-83.669,129.532l156.342,156.338  C378.157,449.322,450.422,376.612,469.168,284.426z"/>
<path style="fill:#FFFFFF;" d="M360.971,191.238c0-19.865-16.093-35.966-35.947-35.966H156.372c-19.85,0-35.94,16.105-35.94,35.966  v96.444c0,19.865,16.093,35.966,35.94,35.966h168.649c19.858,0,35.947-16.105,35.947-35.966v-96.444H360.971z M216.64,280.146  v-90.584l68.695,45.294L216.64,280.146z"/></svg>

<input style="top:10px;font-size:19px; width:140px; padding:5px 8px 8px 8px;" type="text"  id="yourtextfield" />
<div style=" display:inline-block;"  class=div_presser><input style=" display:inline-block;" type="submit" value="Search Playlists" class="dippy28 input_presser" id=e0/></div></br>
<iframe style=" display:inline-block; border:none; width:437px; height:280px;" id="youriframe" width="200px" height="360px" ></iframe></br></br>
</form>
</div>
<script>

$('#youriframe').css("display", "none");

function go_get(){

$('#youtubeiconn').animate({
width: "40px",
height: "40px",
margin:"0",
marginBottom :"-10px"
}, 1000);



setTimeout(function(){ 

$('#youriframe').css("display", "inline-block");
var base_url = 'https://www.youtube.com/embed?listType=search&list=' ;
var search_field = document.getElementById('yourtextfield').value ;
var target_url = base_url + search_field;
var ifr = document.getElementById('youriframe') ;
ifr.src = target_url ;

return false ;
}, 1000);

}



</script>





<script>

var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList
var SpeechRecognitionEvent = SpeechRecognitionEvent || webkitSpeechRecognitionEvent

var colors = [ 'aqua' , 'azure' , 'beige', 'bisque', 'black', 'blue', 'brown', 'chocolate', 'coral', 'crimson', 'cyan', 'fuchsia', 'ghostwhite', 'gold', 'goldenrod', 'gray', 'green', 'indigo', 'ivory', 'khaki', 'lavender', 'lime', 'linen', 'magenta', 'maroon', 'moccasin', 'navy', 'olive', 'orange', 'orchid', 'peru', 'pink', 'plum', 'purple', 'red', 'salmon', 'sienna', 'silver', 'snow', 'tan', 'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'white', 'yellow'];
var grammar = '#JSGF V1.0; grammar colors; public <color> = ' + colors.join(' | ') + ' ;'

var recognition = new SpeechRecognition();
var speechRecognitionList = new SpeechGrammarList();
speechRecognitionList.addFromString(grammar, 1);
recognition.grammars = speechRecognitionList;
//recognition.continuous = false;
recognition.lang = 'en-US';
//recognition.lang = 'zh-CN';
//recognition.lang = 'nl-NL';
recognition.interimResults = false;
recognition.maxAlternatives = 1;

var diagnostic = document.querySelector('.output');
var bg = document.querySelector('html');
var hints = document.querySelector('.hints');

var colorHTML= '';
colors.forEach(function(v, i, a){
console.log(v, i);
colorHTML += '<style> body{background-color:' + v + '; ' + v + '} </style>';
});
//hints.innerHTML = 'Tap/click then say a color to change the background color of the app. Try '+ colorHTML + '.';


document.onkeyup=function(e){
var e = e || window.event; // for IE to cover IEs window event-object
if(e.which == 81) {
recognition.start();
console.log('Ready to receive a color command.');
return false;
}
}





recognition.start();
console.log('Ready to receive a color command.');


recognition.onresult = function(event) {
// The SpeechRecognitionEvent results property returns a SpeechRecognitionResultList object
// The SpeechRecognitionResultList object contains SpeechRecognitionResult objects.
// It has a getter so it can be accessed like an array
// The [last] returns the SpeechRecognitionResult at the last position.
// Each SpeechRecognitionResult object contains SpeechRecognitionAlternative objects that contain individual results.
// These also have getters so they can be accessed like arrays.
// The [0] returns the SpeechRecognitionAlternative at position 0.
// We then return the transcript property of the SpeechRecognitionAlternative object

var last = event.results.length - 1;
var color = event.results[last][0].transcript;

diagnostic.textContent = 'Result received: ' + color + '.';


if(color === "banana"){ 




}; 

if(color === "dumpert"){window.open("http://www.dumpert.nl" )};
if(color === "Gmail"){window.open("https://www.gmail.com" )};
if(color === "email"){window.open("https://www.gmail.com" )};
if(color === "calendar"){window.open("http://calendar.google.com/" )};
if(color === "TV"){window.open("http://npo.nl" )};


colortyy = color.substring(0, 3); 

colorty = color.substring(0, 4); 
colortyp = color.substring(0, 6); 
colort = color.substring(0, 9); 

colortyu = color.substring(0, 11); 

colorty = color.substring(0, 4); 


if(colorty === "play"){


// alert(color.replace(/play/g,''));

$('#yourtextfield').val(color.replace(/play/g,''))

$('.dippy28').trigger( "click" );
$('#d23dtt23t').show()
}



if(colorty === "find" || colortyp === "search" || colortyy === "why"){

window.open("https://www.google.nl/search?q=" + color.replace(/find/g,'').replace(/search/g,''));


}


if(colortyu === "movie facts"){

window.open("http://www.imdb.com/find?ref_=nv_sr_fn&q=" + color.replace(/movie facts/g,''));


}





if(colort === "set timer"){


var deadline = new Date(Date.parse(new Date()) + 60 * 1000 * color.replace(/set timer/g,'').replace(/minutes/g,''));


if(
    !isNaN(deadline) && color.replace(/set timer/g,'').replace(/minutes/g,'') > ""

    ){

initializeClock('clockdiv', deadline);


$('#clockdiv').show();


}else{











		var Small = {
    'zero': 0,
    'one': 1,
    'two': 2,
    'three': 3,
    'four': 4,
    'five': 5,
    'six': 6,
    'seven': 7,
    'eight': 8,
    'nine': 9,
    'ten': 10,
    'eleven': 11,
    'twelve': 12,
    'thirteen': 13,
    'fourteen': 14,
    'fifteen': 15,
    'sixteen': 16,
    'seventeen': 17,
    'eighteen': 18,
    'nineteen': 19,
    'twenty': 20,
    'thirty': 30,
    'forty': 40,
    'fifty': 50,
    'sixty': 60,
    'seventy': 70,
    'eighty': 80,
    'ninety': 90
};

var Magnitude = {
    'thousand':     1000,
    'million':      1000000,
    'billion':      1000000000,
    'trillion':     1000000000000,
    'quadrillion':  1000000000000000,
    'quintillion':  1000000000000000000,
    'sextillion':   1000000000000000000000,
    'septillion':   1000000000000000000000000,
    'octillion':    1000000000000000000000000000,
    'nonillion':    1000000000000000000000000000000,
    'decillion':    1000000000000000000000000000000000,
};

var a, n, g;

function text2num(s) {
    a = s.toString().split(/[\s-]+/);
    n = 0;
    g = 0;
    a.forEach(feach);
    return n + g;
}

function feach(w) {
    var x = Small[w];
    if (x != null) {
        g = g + x;
    }
    else if (w == "hundred") {
        g = g * 100;
    }
    else {
        x = Magnitude[w];
        if (x != null) {
            n = n + g * x
            g = 0;
        }
        else { 
         
        }
    }
}
		
		


var deadliner = new Date(Date.parse(new Date()) + 60 * 1000 * text2num(color.replace(/set timer/g,'').replace(/minutes/g,'')));
var isheteenletterofeencijfer = text2num(color.replace(/set timer/g,'').replace(/minutes/g,''));

if(
    isheteenletterofeencijfer > 0   && color.replace(/set timer/g,'').replace(/minutes/g,'') > ""    


){




initializeClock('clockdiv', deadliner );
$('#clockdiv').show();


}



}


}





bg.style.backgroundColor = color;
console.log('Confidence: ' + event.results[0][0].confidence);
}

recognition.onspeechend = function() {
recognition.stop();
}

recognition.onnomatch = function(event) {
diagnostic.textContent = "I didn't recognise that color.";
}

recognition.onerror = function(event) {
//diagnostic.textContent = 'Error occurred in recognition: ' + event.error;
}







</script>

<script>


var isChromium = window.chrome,
winNav = window.navigator,
vendorName = winNav.vendor,
isOpera = winNav.userAgent.indexOf("OPR") > -1,
isIEedge = winNav.userAgent.indexOf("Edge") > -1,
isIOSChrome = winNav.userAgent.match("CriOS");

if(isIOSChrome){
// is Google Chrome on IOS
} else if(isChromium !== null && isChromium !== undefined && vendorName === "Google Inc." && isOpera == false && isIEedge == false) {
// is Google Chrome

$('#usechrome').hide();




} else { 
// not Google Chrome 



$('#usechrome2').hide();
$('.output').hide();
}


</script>



	<script>
		
		
	</script>
</body>
</html>
